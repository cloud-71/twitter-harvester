{
  "_id": "_design/view",
  "views": {
    "sum_words": {
      "map": "function (doc) {\n  var words = doc.full_text || doc.retweeted_status.extended_tweet.full_text || doc.text;\n  words = words.toLowerCase().replace(/[^a-z]+/g, \" \").split(\" \");\n  for(word in words) {\n    if(words[word]!=\"\")\n      emit(words[word], null);\n  }\n}",
      "reduce": "_count"
    },
    "covid_occurance": {
      "reduce": "_count",
      "map": "function (doc) {\n  var words = doc.text;\n  if(doc.retweeted_status)\n    words = doc.retweeted_status.extended_tweet.full_text;\n  words = doc.full_text || words;\n  relevant = words.toLowerCase().includes(\"covid\") || words.toLowerCase().includes(\"corona virus\") || words.toLowerCase().includes(\"coronavirus\");\n  if(relevant){\n      emit(\"relevant\", null);\n  }else{\n      emit(\"not relevant\", null);\n  }\n}"
    }
  },
  "language": "javascript"
}
